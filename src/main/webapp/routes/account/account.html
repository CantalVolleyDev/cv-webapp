<alert ng-show="account.errorData" error-data="account.errorData"></alert>
<loader ng-show="account.loading"></loader>
<div class="panel panel-primary myaccount-panel" ng-show="!account.loading && !account.errorData">
  <div class="panel-heading">
    <h3 class="panel-title">
      <span class="hidden-xs"><i class="cv-icon cv-icon-user"></i></span>
      Bienvenue<span class="hidden-xs"> sur votre page d'accueil</span>
      <div class="pull-right clickable-item" ng-click="disconnect()">
        <i class="cv-icon cv-icon-times"></i>
        <span class="hidden-xs">Déconnexion</span>
      </div>
    </h3>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="help col-lg-push-2 col-lg-10">
        <a href="#login/password" class="btn btn-primary">Modifier mon mot de passe</a>
        <a href="#help/score" class="btn btn-primary">Comment saisir un score?</a>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-2">
        <div class="user-infos">
          <div class="image hidden-xs">
            <img ng-src="{{account.service.client().imagePath}}"
                 ng-class="{'default':account.service.isImageDefault()}">
          </div>
          <div class="user-name">
            {{account.service.client().firstName}}
            {{account.service.client().name}}
          </div>
          <div>
            {{account.service.client().mail}}
          </div>
          <div class="user-teams">
            <a class="list-group-item" ng-repeat="teamPlayer in account.teams" 
               ng-href="#team/{{teamPlayer.team.identifier}}">
              {{teamPlayer.team.label}}
            </a>
          </div>
        </div>
      </div>
      <div class="match-panel-container col-lg-5">
        <match-panel title="Matchs en attente de validation" data="account.sorted.waitingValidationMatchs"
                     important="true"></match-panel>
      </div>
      <div class="match-panel-container col-lg-5">
        <match-panel title="Matchs en retard (Référence : Date d'aujourd'hui)" data="account.sorted.lateMatchs"
                     important="true"></match-panel>
      </div>
      <div class="match-panel-container col-lg-5">
        <match-panel title="Prochains matchs" data="account.sorted.nextMatchs"></match-panel>
      </div>
      <div class="match-panel-container col-lg-5">
        <match-panel title="Matchs saisis en attente" data="account.sorted.waitingMatchs" open-details="true"></match-panel>
      </div>
    </div>
  </div>
</div>